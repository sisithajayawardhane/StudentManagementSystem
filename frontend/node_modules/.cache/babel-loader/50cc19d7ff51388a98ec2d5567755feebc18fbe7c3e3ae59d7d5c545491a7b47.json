{"ast":null,"code":"import _slicedToArray from\"/Users/mac/Web Development/Projects/Student_Management_System/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import axios from\"axios\";import{Table,Button}from'semantic-ui-react';import{Link}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function ReadStudents(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),students=_useState2[0],setStudents=_useState2[1];useEffect(function(){axios.get(\"http://localhost:8070/student/\").then(function(response){setStudents(response.data);}).catch(function(err){alert(err.message);});},[]);var getLatestData=function getLatestData(){axios.get(\"http://localhost:8070/student/\").then(function(response){setStudents(response.data);}).catch(function(err){alert(err.message);});};var onDelete=function onDelete(id){axios.delete(\"http://localhost:8070/student/delete/\".concat(id)).then(function(){getLatestData();alert(\"entry deleted\");});};return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(Table,{celled:true,children:[/*#__PURE__*/_jsx(Table.Header,{children:/*#__PURE__*/_jsxs(Table.Row,{children:[/*#__PURE__*/_jsx(Table.HeaderCell,{children:\"Student Name\"}),/*#__PURE__*/_jsx(Table.HeaderCell,{children:\"Age\"}),/*#__PURE__*/_jsx(Table.HeaderCell,{children:\"Gender\"}),/*#__PURE__*/_jsx(Table.HeaderCell,{children:\"Update\"}),/*#__PURE__*/_jsx(Table.HeaderCell,{children:\"Delete\"})]})}),/*#__PURE__*/_jsx(Table.Body,{children:students.map(function(data){var setData=function setData(data){var _id=data._id,name=data.name,age=data.age,gender=data.gender;localStorage.setItem('ID',_id);localStorage.setItem('Name',name);localStorage.setItem('Age',age);localStorage.setItem('Gender',gender);};return/*#__PURE__*/_jsxs(Table.Row,{children:[/*#__PURE__*/_jsx(Table.Cell,{children:data.name}),/*#__PURE__*/_jsx(Table.Cell,{children:data.age}),/*#__PURE__*/_jsx(Table.Cell,{children:data.gender}),/*#__PURE__*/_jsx(Link,{to:\"/update\",children:/*#__PURE__*/_jsx(Table.Cell,{children:/*#__PURE__*/_jsx(Button,{inverted:true,color:\"blue\",onClick:function onClick(){return setData(data);},children:\"Update\"})})}),/*#__PURE__*/_jsx(Table.Cell,{children:/*#__PURE__*/_jsx(Button,{inverted:true,color:\"red\",onClick:function onClick(){return onDelete(data._id);},children:\"Delete\"})})]},data._id);})})]})});}","map":{"version":3,"names":["React","useState","useEffect","axios","Table","Button","Link","ReadStudents","students","setStudents","get","then","response","data","catch","err","alert","message","getLatestData","onDelete","id","delete","map","setData","_id","name","age","gender","localStorage","setItem"],"sources":["/Users/mac/Web Development/Projects/Student_Management_System/frontend/src/components/ReadStudents.js"],"sourcesContent":["import React, {useState, useEffect} from \"react\";\nimport axios from \"axios\";\nimport {Table, Button} from 'semantic-ui-react';\nimport {Link} from \"react-router-dom\";\n\nexport default function ReadStudents(){\n\n    const [students, setStudents] = useState([]);\n    useEffect(()=>{\n        axios.get(\"http://localhost:8070/student/\").then((response)=>{\n            setStudents(response.data);\n        }).catch((err)=>{\n            alert(err.message);\n        })\n    }, [])\n\n    const getLatestData= ()=>{\n        axios.get(\"http://localhost:8070/student/\").then((response)=>{\n            setStudents(response.data);\n        }).catch((err)=>{\n            alert(err.message);\n        })\n    }\n\n    const onDelete = (id)=>{\n        axios.delete(`http://localhost:8070/student/delete/${id}`).then(()=>{\n            getLatestData();\n            alert(\"entry deleted\");\n        })\n    }\n\n    return(\n        <div>\n            <Table celled>\n                <Table.Header>\n                    <Table.Row>\n                        <Table.HeaderCell>Student Name</Table.HeaderCell>\n                        <Table.HeaderCell>Age</Table.HeaderCell>\n                        <Table.HeaderCell>Gender</Table.HeaderCell>\n                        <Table.HeaderCell>Update</Table.HeaderCell>\n                        <Table.HeaderCell>Delete</Table.HeaderCell>\n                    </Table.Row>\n                </Table.Header>\n                <Table.Body>\n                    {\n                        students.map((data)=>{\n                            const setData = (data) => {\n                                let {_id, name, age, gender} = data;\n                                localStorage.setItem('ID', _id);\n                                localStorage.setItem('Name', name);\n                                localStorage.setItem('Age', age);\n                                localStorage.setItem('Gender', gender);\n\n                            }\n\n                            return(\n                                <Table.Row key={data._id}>\n                                    <Table.Cell>{data.name}</Table.Cell>\n                                    <Table.Cell>{data.age}</Table.Cell>\n                                    <Table.Cell>{data.gender}</Table.Cell>\n                                    <Link to=\"/update\">\n                                        <Table.Cell>\n                                            <Button inverted color='blue' onClick={() => setData(data)}>Update</Button>\n                                        </Table.Cell>\n                                    </Link>\n                                    <Table.Cell>\n                                        <Button inverted color='red' onClick={() => onDelete(data._id)}>Delete</Button>\n                                    </Table.Cell>\n                                    \n                                </Table.Row>\n                                \n                            )\n                        })\n                    }\n                </Table.Body>\n            </Table>\n        </div>\n    )\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}